"use strict";(self.webpackChunkpaddle_scorer=self.webpackChunkpaddle_scorer||[]).push([[69],{1069:(F,m,a)=>{a.r(m),a.d(m,{HomePageModule:()=>G,routes:()=>h});var l=a(9808),u=a(1799),r=a(2382);const g=()=>{const s=Math.floor(206*Math.random()+50),e=Math.floor(206*Math.random()+50),o=Math.floor(206*Math.random()+50);return`#${s.toString(16).padStart(2,"0")}${e.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`};var t=a(1223),y=a(1397);const C=["*"];let P=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-center-layout"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,o){1&e&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{padding:32px;display:flex;flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0}),n})();var d=a(4930),v=a(7579),M=a(4482),x=a(5403),O=a(8421),b=a(5032),I=a(1263),A=a(1424);let _=(()=>{class n{constructor(e){this.formArranyName=e,this._onDestroy=new v.x}ngOnInit(){if(!this.formGroupName)throw new Error("undefined @Input formGroupName");if(!this.formArranyName)throw new Error("undefined container formArranyName");if(this.formGroup=this.formArranyName.control.get(this.formGroupName),!this.formGroup)throw new Error(`undefined control ${this.formGroupName} of array ${this.formArranyName}`);this.formGroup.valueChanges.pipe(function N(n){return(0,M.e)((s,e)=>{(0,O.Xf)(n).subscribe((0,x.x)(e,()=>e.complete(),b.Z)),!e.closed&&s.subscribe(e)})}(this._onDestroy)).subscribe(()=>{this.formArranyName.control.updateValueAndValidity()})}writeValue(e){}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.CE,4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-player-input"]],inputs:{formGroupName:"formGroupName"},features:[t._Bn([{provide:r.JU,useExisting:n,multi:!0}])],decls:3,vars:1,consts:[[3,"formGroup"],["formControlName","color"],["type","text","pInputText","","placeholder","Nombre","formControlName","name"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t._UZ(1,"p-colorPicker",1)(2,"input",2),t.qZA()),2&e&&t.Q6J("formGroup",o.formGroup)},directives:[r._Y,r.JL,r.sg,I.zH,r.JJ,r.u,r.Fj,A.o],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}"],changeDetection:0}),n})();var B=a(7010);function Z(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t._UZ(1,"app-player-input",16),t.TgZ(2,"p-button",17),t.NdJ("click",function(){const c=t.CHM(e).index,p=t.oxw();return p.players.controls.length>2&&p.removePlayerControl(c)}),t.qZA()()}if(2&n){const e=s.index,o=t.oxw();t.xp6(1),t.s9C("formGroupName",e),t.xp6(1),t.Q6J("disabled",o.players.controls.length<=2)}}let J=(()=>{class n{constructor(e,o,i){this.fb=e,this.gameService=o,this.router=i,this.INIT_PLAYERS=4,this.buildForm()}ngOnInit(){this.loadFormValue()}get players(){return this.form.get("players")}addPlayerControl(){this.players.controls.push(this.fb.group({name:this.fb.control("",[r.kI.required]),color:this.fb.control(g(),[r.kI.required])})),this.players.updateValueAndValidity()}removePlayerControl(e){this.players.removeAt(e),this.players.updateValueAndValidity()}refreshColors(){var e;for(let o=0;o<this.players.controls.length;o++)null===(e=this.players.controls[o].get("color"))||void 0===e||e.setValue(g())}startGame(){this.saveFormValue();const{players:e,score:o}=this.form.getRawValue();this.gameService.setGame(e,o),this.router.navigate(["game"])}loadFormValue(){const e=localStorage.getItem("playersLength"),o=localStorage.getItem("value");if(this.generateInitPlayers(e?+e:this.INIT_PLAYERS),o){const i=JSON.parse(o);this.form.setValue(i)}}saveFormValue(){localStorage.setItem("playersLength",JSON.stringify(this.players.length)),localStorage.setItem("value",JSON.stringify(this.form.getRawValue()))}buildForm(){this.form=this.fb.group({players:this.fb.array([]),score:this.fb.group({points:this.fb.control(6,[r.kI.min(1),r.kI.max(6)]),sets:this.fb.control(3,[r.kI.min(1),r.kI.max(3)])})})}generateInitPlayers(e){for(let o=0;o<e;o++)this.addPlayerControl()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(y.h),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:9,consts:[[3,"formGroup"],["formArrayName","players",1,"players"],[1,"players-span"],[1,"players-div"],["icon","pi pi-user-plus","label","Agregar","iconPos","left",1,"players-button",3,"click"],["icon","pi pi-refresh","label","Colores","iconPos","left",1,"players-button",3,"click"],["class","player",4,"ngFor","ngForOf"],["formGroupName","score",1,"score"],[1,"score-points"],[1,"score-points-span"],["formControlName","points","mode","decimal","buttonLayout","vertical","spinnerMode","vertical","decrementButtonClass","p-button-secondary","incrementButtonClass","p-button-secondary","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"showButtons","min","max"],[1,"score-sets"],[1,"score-sets-span"],["formControlName","sets","mode","decimal","buttonLayout","vertical","spinnerMode","vertical","decrementButtonClass","p-button-secondary","incrementButtonClass","p-button-secondary","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"showButtons","min","max"],["pButton","","type","button",1,"p-button-raised","p-button-rounded","p-button-success","start-button",3,"disabled","click"],[1,"player"],[1,"player-input",3,"formGroupName"],["icon","pi pi-trash","styleClass","p-button-danger",1,"player-button",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"app-center-layout")(1,"h1"),t._uU(2,"NUEVO JUEGO"),t.qZA(),t.TgZ(3,"form",0)(4,"div",1)(5,"span",2),t._uU(6,"Participantes"),t.qZA(),t.TgZ(7,"div",3)(8,"p-button",4),t.NdJ("click",function(){return o.addPlayerControl()}),t.qZA(),t.TgZ(9,"p-button",5),t.NdJ("click",function(){return o.refreshColors()}),t.qZA()(),t.YNc(10,Z,3,2,"div",6),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"span",9),t._uU(14,"Puntos"),t.qZA(),t._UZ(15,"p-inputNumber",10),t.qZA(),t.TgZ(16,"div",11)(17,"span",12),t._uU(18,"Sets"),t.qZA(),t._UZ(19,"p-inputNumber",13),t.qZA()()(),t.TgZ(20,"button",14),t.NdJ("click",function(){return o.startGame()}),t._uU(21," Continuar "),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngForOf",o.players.controls),t.xp6(5),t.Q6J("showButtons",!0)("min",1)("max",6),t.xp6(4),t.Q6J("showButtons",!0)("min",1)("max",3),t.xp6(1),t.Q6J("disabled",!o.form.valid))},directives:[P,r._Y,r.JL,r.sg,r.CE,d.zx,l.sg,_,r.x0,B.Rn,r.JJ,r.u,d.Hq],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .players-div[_ngcontent-%COMP%]{display:flex;margin-bottom:8px;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;gap:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-points[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-sets[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-points[_ngcontent-%COMP%]     .p-inputnumber, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-sets[_ngcontent-%COMP%]     .p-inputnumber{width:6rem}[_nghost-%COMP%]   .start-button[_ngcontent-%COMP%]{margin:32px 0}"]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez]]}),n})();var f=a(7786);let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,f.m]]}),n})();const h=[{path:"",component:J}];let G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,u.Bz.forChild(h),f.m,S,T]]}),n})()}}]);