"use strict";(self.webpackChunkpaddle_scorer=self.webpackChunkpaddle_scorer||[]).push([[177],{4177:(F,l,a)=>{a.r(l),a.d(l,{HomePageModule:()=>S,routes:()=>f});var p=a(9808),u=a(6342),o=a(2382),C=a(5698),t=a(1223),h=a(1972);const P=["*"];let _=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-center-layout"]],ngContentSelectors:P,decls:1,vars:0,template:function(n,i){1&n&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{padding:32px;display:flex;flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0}),e})();var g=a(845),y=a(7579),x=a(2722),M=a(1424);let O=(()=>{class e{constructor(n){this.formArranyName=n,this._onDestroy=new y.x}ngOnInit(){if(!this.formGroupName)throw new Error("undefined @Input formGroupName");if(!this.formArranyName)throw new Error("undefined container formArranyName");if(this.formGroup=this.formArranyName.control.get(this.formGroupName),!this.formGroup)throw new Error(`undefined control ${this.formGroupName} of array ${this.formArranyName}`);this.formGroup.valueChanges.pipe((0,x.R)(this._onDestroy)).subscribe(()=>{this.formArranyName.control.updateValueAndValidity()})}writeValue(n){}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.CE,4))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-participant-input"]],inputs:{formGroupName:"formGroupName"},features:[t._Bn([{provide:o.JU,useExisting:e,multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["type","text","pInputText","","placeholder","Nombre","formControlName","name"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t._UZ(1,"input",1),t.qZA()),2&n&&t.Q6J("formGroup",i.formGroup)},directives:[o._Y,o.JL,o.sg,o.Fj,M.o,o.JJ,o.u],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}"],changeDetection:0}),e})();var v=a(7010),b=a(6888);function N(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",20),t._UZ(1,"app-participant-input",21),t.TgZ(2,"p-button",22),t.NdJ("click",function(){const m=t.CHM(n).index,s=t.oxw(2);return s.participants.controls.length>4&&s.removeParticipantControl(m)}),t.qZA()()}if(2&e){const n=r.index,i=t.oxw(2);t.xp6(1),t.s9C("formGroupName",n),t.xp6(1),t.Q6J("disabled",i.participants.controls.length<=4)}}function T(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-center-layout")(1,"h1"),t._uU(2,"NUEVO JUEGO"),t.qZA(),t.TgZ(3,"form",1)(4,"div",2)(5,"span",3),t._uU(6,"Participantes"),t.qZA(),t.TgZ(7,"div",4)(8,"p-button",5),t.NdJ("click",function(){return t.CHM(n),t.oxw().addParticipantControl()}),t.qZA()(),t.YNc(9,N,3,2,"div",6),t.qZA(),t.TgZ(10,"div",7)(11,"div",8)(12,"span",9),t._uU(13,"Puntos"),t.qZA(),t._UZ(14,"p-inputNumber",10),t.qZA(),t.TgZ(15,"div",11)(16,"span",12),t._uU(17,"Sets"),t.qZA(),t._UZ(18,"p-inputNumber",13),t.qZA()(),t.TgZ(19,"div",14)(20,"span",15),t._uU(21,"Equipos"),t.qZA(),t.TgZ(22,"div",16),t._UZ(23,"p-colorPicker",17)(24,"p-colorPicker",18),t.qZA()()(),t.TgZ(25,"button",19),t.NdJ("click",function(){return t.CHM(n),t.oxw().startGame()}),t._uU(26," Comenzar "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("formGroup",n.gameSettingsForm),t.xp6(6),t.Q6J("ngForOf",n.participants.controls),t.xp6(5),t.Q6J("showButtons",!0)("min",1)("max",6),t.xp6(4),t.Q6J("showButtons",!0)("min",1)("max",3),t.xp6(7),t.Q6J("disabled",!n.gameSettingsForm.valid)}}let Z=(()=>{class e{constructor(n,i,c){this.fb=n,this.gameSettingsService=i,this.router=c}ngOnInit(){this.gameSettingsService.gameSettings$.pipe((0,C.q)(1)).subscribe(n=>{this.buildGameSettingsForm(n)})}get participants(){return this.gameSettingsForm.get("participants")}addParticipantControl(){var n;let i=0;this.participants.controls.length&&(i=(null===(n=this.participants.controls[this.participants.controls.length-1].get("id"))||void 0===n?void 0:n.value)+1),this.participants.controls.push(this.fb.group({id:this.fb.control(i,[o.kI.required]),name:this.fb.control("",[o.kI.required])})),this.participants.updateValueAndValidity()}removeParticipantControl(n){this.participants.removeAt(n),this.participants.updateValueAndValidity()}startGame(){const n=this.gameSettingsForm.getRawValue();this.gameSettingsService.saveGameSettingsOnStorage(n),this.router.navigate(["game"])}buildGameSettingsForm({participants:n,goalScore:i,optionals:c,teams:m}){this.gameSettingsForm=this.fb.group({participants:this.fb.array([],[o.kI.minLength(4)]),goalScore:this.fb.group({points:this.fb.control(i.points,[o.kI.min(1),o.kI.max(6)]),sets:this.fb.control(i.sets,[o.kI.min(1),o.kI.max(3)])}),teams:this.fb.group({colorTeam1:this.fb.control(m.colorTeam1,[o.kI.required]),colorTeam2:this.fb.control(m.colorTeam2,[o.kI.required])}),optionals:this.fb.group({lockWinnerTeam:this.fb.control(c.lockWinnerTeam,o.kI.required)})});for(let s=0;s<n.length;s++){const G=n[s];this.addParticipantControl(),this.participants.controls[s].setValue(G)}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.qu),t.Y36(h.B),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["formArrayName","participants",1,"participants"],[1,"participants-span"],[1,"participants-div"],["icon","pi pi-user-plus","label","Agregar","iconPos","left",1,"participants-button",3,"click"],["class","participant",4,"ngFor","ngForOf"],["formGroupName","goalScore",1,"score"],[1,"score-points"],[1,"score-points-span"],["formControlName","points","mode","decimal","buttonLayout","vertical","spinnerMode","vertical","decrementButtonClass","p-button-secondary","incrementButtonClass","p-button-secondary","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"showButtons","min","max"],[1,"score-sets"],[1,"score-sets-span"],["formControlName","sets","mode","decimal","buttonLayout","vertical","spinnerMode","vertical","decrementButtonClass","p-button-secondary","incrementButtonClass","p-button-secondary","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"showButtons","min","max"],["formGroupName","teams",1,"teams"],[1,"teams-span"],[1,"teams-colors"],["formControlName","colorTeam1"],["formControlName","colorTeam2"],["pButton","","type","button",1,"p-button-raised","p-button-rounded","p-button-success","start-button",3,"disabled","click"],[1,"participant"],[1,"participant-input",3,"formGroupName"],["icon","pi pi-trash","styleClass","p-button-danger",1,"participant-button",3,"disabled","click"]],template:function(n,i){1&n&&t.YNc(0,T,27,9,"app-center-layout",0),2&n&&t.Q6J("ngIf",i.gameSettingsForm)},directives:[p.O5,_,o._Y,o.JL,o.sg,o.CE,g.zx,p.sg,O,o.x0,v.Rn,o.JJ,o.u,b.zH,g.Hq],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .participants[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .participants[_ngcontent-%COMP%]   .participants-div[_ngcontent-%COMP%]{display:flex;margin-bottom:8px;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .participants[_ngcontent-%COMP%]   .participant[_ngcontent-%COMP%]{display:flex;gap:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-points[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-sets[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-points[_ngcontent-%COMP%]     .p-inputnumber, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-sets[_ngcontent-%COMP%]     .p-inputnumber{width:6rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .teams[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .teams[_ngcontent-%COMP%]   .teams-colors[_ngcontent-%COMP%]{display:flex;gap:32px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .teams[_ngcontent-%COMP%]   .teams-colors[_ngcontent-%COMP%]     p-colorpicker input{width:100px;height:100px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .optionals[_ngcontent-%COMP%]   .field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}[_nghost-%COMP%]   .start-button[_ngcontent-%COMP%]{margin:32px 0}"]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez]]}),e})();var d=a(256);let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,d.m]]}),e})();const f=[{path:"",component:Z}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,u.Bz.forChild(f),d.m,A,I]]}),e})()}}]);