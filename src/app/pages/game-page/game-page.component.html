<ng-container *ngIf="game$ | async as game">
    <div class="game-title">
        <h1 class="game-h1">JUGANDO</h1>
        <button
            type="button"
            pButton
            icon="pi pi-bars"
            (click)="menu.toggle($event)"
            class="p-button-text p-button-secondary"></button>
        <p-menu
            #menu
            [popup]="true"
            [model]="menuOptions"></p-menu>
    </div>
    <app-stadium
        class="stadium"
        [ngClass]="{ 'stadium-animation': game.isGoldenPoint }">
        <app-score
            class="stadium-score score-team-0"
            score-team-0
            [score]="getScoreAt(game, 0)"
            (counterClick)="incrementCounterAt(0)">
        </app-score>
        <app-player
            slot-0-0
            class="stadium-player player-team-0"
            [player]="getPlayerByPosition(game, PLAYER_POSITIONS[0])"
            (playerClick)="openPlayerSelector(PLAYER_POSITIONS[0])">
        </app-player>
        <app-player
            slot-0-1
            class="stadium-player player-team-0"
            [player]="getPlayerByPosition(game, PLAYER_POSITIONS[1])"
            (playerClick)="openPlayerSelector(PLAYER_POSITIONS[1])">
        </app-player>
        <app-player
            slot-1-0
            class="stadium-player player-team-1"
            [player]="getPlayerByPosition(game, PLAYER_POSITIONS[2])"
            (playerClick)="openPlayerSelector(PLAYER_POSITIONS[2])">
        </app-player>
        <app-player
            slot-1-1
            class="stadium-player player-team-1"
            [player]="getPlayerByPosition(game, PLAYER_POSITIONS[3])"
            (playerClick)="openPlayerSelector(PLAYER_POSITIONS[3])">
        </app-player>
        <app-score
            class="stadium-score score-team-1"
            score-team-1
            [score]="getScoreAt(game, 1)"
            (counterClick)="incrementCounterAt(1)">
        </app-score>
    </app-stadium>
    <p-dialog
        position="right"
        [modal]="true"
        [dismissableMask]="true"
        [header]="playerSelectorHeader"
        [(visible)]="displayPlayerSelector">
        <ng-container *ngIf="gameSettings">
            <p-listbox
                [options]="gameSettings.participants"
                optionLabel="name"
                optionValue="name"
                (onClick)="playerSelectorClick($event)">
            </p-listbox>
        </ng-container>
    </p-dialog>
</ng-container>
<p-confirmDialog
    icon="pi pi-exclamation-triangle"
    [closable]="false">
</p-confirmDialog>
