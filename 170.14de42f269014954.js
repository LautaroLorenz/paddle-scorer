"use strict";(self.webpackChunkpaddle_scorer=self.webpackChunkpaddle_scorer||[]).push([[170],{8170:(Z,m,a)=>{a.r(m),a.d(m,{HomePageModule:()=>S,routes:()=>h});var c=a(9808),u=a(5472),r=a(2382);const g=()=>{const i=Math.floor(206*Math.random()+50),n=Math.floor(206*Math.random()+50),e=Math.floor(206*Math.random()+50);return`#${i.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${e.toString(16).padStart(2,"0")}`};var t=a(1223),C=a(6286);const P=["*"];let y=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-center-layout"]],ngContentSelectors:P,decls:1,vars:0,template:function(n,e){1&n&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{padding:32px;display:flex;flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0}),o})();var d=a(845),M=a(7579),x=a(2722),v=a(6888),O=a(1424);let b=(()=>{class o{constructor(n){this.formArranyName=n,this._onDestroy=new M.x}ngOnInit(){if(!this.formGroupName)throw new Error("undefined @Input formGroupName");if(!this.formArranyName)throw new Error("undefined container formArranyName");if(this.formGroup=this.formArranyName.control.get(this.formGroupName),!this.formGroup)throw new Error(`undefined control ${this.formGroupName} of array ${this.formArranyName}`);this.formGroup.valueChanges.pipe((0,x.R)(this._onDestroy)).subscribe(()=>{this.formArranyName.control.updateValueAndValidity()})}writeValue(n){}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(r.CE,4))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-participant-input"]],inputs:{formGroupName:"formGroupName"},features:[t._Bn([{provide:r.JU,useExisting:o,multi:!0}])],decls:3,vars:1,consts:[[3,"formGroup"],["formControlName","color"],["type","text","pInputText","","placeholder","Nombre","formControlName","name"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0),t._UZ(1,"p-colorPicker",1)(2,"input",2),t.qZA()),2&n&&t.Q6J("formGroup",e.formGroup)},directives:[r._Y,r.JL,r.sg,v.zH,r.JJ,r.u,r.Fj,O.o],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}"],changeDetection:0}),o})();var _=a(7010);function N(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",15),t._UZ(1,"app-participant-input",16),t.TgZ(2,"p-button",17),t.NdJ("click",function(){const l=t.CHM(n).index,p=t.oxw();return p.participants.controls.length>4&&p.removeParticipantControl(l)}),t.qZA()()}if(2&o){const n=i.index,e=t.oxw();t.xp6(1),t.s9C("formGroupName",n),t.xp6(1),t.Q6J("disabled",e.participants.controls.length<=4)}}let I=(()=>{class o{constructor(n,e,s){this.fb=n,this.gameService=e,this.router=s,this.INIT_PLAYERS=4,this.buildForm()}ngOnInit(){this.loadFormValue()}get participants(){return this.form.get("participants")}addParticipantControl(){this.participants.controls.push(this.fb.group({id:this.fb.control(this.participants.controls.length,[r.kI.required]),name:this.fb.control("",[r.kI.required]),color:this.fb.control(g(),[r.kI.required])})),this.participants.updateValueAndValidity()}removeParticipantControl(n){this.participants.removeAt(n),this.participants.updateValueAndValidity()}refreshColors(){var n;for(let e=0;e<this.participants.controls.length;e++)null===(n=this.participants.controls[e].get("color"))||void 0===n||n.setValue(g())}startGame(){this.saveFormValue();const{participants:n,goalScore:e}=this.form.getRawValue();this.gameService.initGame(n,e),this.router.navigate(["game"])}loadFormValue(){const n=localStorage.getItem("participantsLength"),e=localStorage.getItem("settings");if(this.generateParticipants(n?+n:this.INIT_PLAYERS),e){const s=JSON.parse(e);this.form.setValue(s)}}saveFormValue(){localStorage.setItem("participantsLength",JSON.stringify(this.participants.length)),localStorage.setItem("settings",JSON.stringify(this.form.getRawValue()))}buildForm(){this.form=this.fb.group({participants:this.fb.array([]),goalScore:this.fb.group({points:this.fb.control(6,[r.kI.min(1),r.kI.max(6)]),sets:this.fb.control(3,[r.kI.min(1),r.kI.max(3)]),counter:this.fb.control(0,[r.kI.required])})})}generateParticipants(n){for(let e=0;e<n;e++)this.addParticipantControl()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(r.qu),t.Y36(C.h),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:22,vars:9,consts:[[3,"formGroup"],["formArrayName","participants",1,"participants"],[1,"participants-span"],[1,"participants-div"],["icon","pi pi-user-plus","label","Agregar","iconPos","left",1,"participants-button",3,"click"],["icon","pi pi-refresh","label","Colores","iconPos","left",1,"participants-button",3,"click"],["class","participant",4,"ngFor","ngForOf"],["formGroupName","goalScore",1,"score"],[1,"score-points"],[1,"score-points-span"],["formControlName","points","mode","decimal","buttonLayout","vertical","spinnerMode","vertical","decrementButtonClass","p-button-secondary","incrementButtonClass","p-button-secondary","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"showButtons","min","max"],[1,"score-sets"],[1,"score-sets-span"],["formControlName","sets","mode","decimal","buttonLayout","vertical","spinnerMode","vertical","decrementButtonClass","p-button-secondary","incrementButtonClass","p-button-secondary","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"showButtons","min","max"],["pButton","","type","button",1,"p-button-raised","p-button-rounded","p-button-success","start-button",3,"disabled","click"],[1,"participant"],[1,"participant-input",3,"formGroupName"],["icon","pi pi-trash","styleClass","p-button-danger",1,"participant-button",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"app-center-layout")(1,"h1"),t._uU(2,"NUEVO JUEGO"),t.qZA(),t.TgZ(3,"form",0)(4,"div",1)(5,"span",2),t._uU(6,"Participantes"),t.qZA(),t.TgZ(7,"div",3)(8,"p-button",4),t.NdJ("click",function(){return e.addParticipantControl()}),t.qZA(),t.TgZ(9,"p-button",5),t.NdJ("click",function(){return e.refreshColors()}),t.qZA()(),t.YNc(10,N,3,2,"div",6),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"span",9),t._uU(14,"Puntos"),t.qZA(),t._UZ(15,"p-inputNumber",10),t.qZA(),t.TgZ(16,"div",11)(17,"span",12),t._uU(18,"Sets"),t.qZA(),t._UZ(19,"p-inputNumber",13),t.qZA()()(),t.TgZ(20,"button",14),t.NdJ("click",function(){return e.startGame()}),t._uU(21," Comenzar "),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(7),t.Q6J("ngForOf",e.participants.controls),t.xp6(5),t.Q6J("showButtons",!0)("min",1)("max",6),t.xp6(4),t.Q6J("showButtons",!0)("min",1)("max",3),t.xp6(1),t.Q6J("disabled",!e.form.valid))},directives:[y,r._Y,r.JL,r.sg,r.CE,d.zx,c.sg,b,r.x0,_.Rn,r.JJ,r.u,d.Hq],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .participants[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .participants[_ngcontent-%COMP%]   .participants-div[_ngcontent-%COMP%]{display:flex;margin-bottom:8px;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .participants[_ngcontent-%COMP%]   .participant[_ngcontent-%COMP%]{display:flex;gap:16px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-points[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-sets[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-points[_ngcontent-%COMP%]     .p-inputnumber, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-sets[_ngcontent-%COMP%]     .p-inputnumber{width:6rem}[_nghost-%COMP%]   .start-button[_ngcontent-%COMP%]{margin:32px 0}"]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez]]}),o})();var f=a(7786);let B=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,f.m]]}),o})();const h=[{path:"",component:I}];let S=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,u.Bz.forChild(h),f.m,A,B]]}),o})()}}]);